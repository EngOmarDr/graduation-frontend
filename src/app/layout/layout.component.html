<div
  class="flex min-h-svh text-black dark:text-white bg-[#f4f5fc] dark:bg-[#1f2937]"
>
  <!-- Overlay -->
  <div
    class="fixed inset-0 z-20 transition-opacity bg-black opacity-50"
    *ngIf="isSettingOpen || isSidebarOpen"
    (click)="clickOutSide()"
  ></div>

  <!-- Sidebar -->
  <aside
    class="fixed inset-y-0 left-0 z-30 md:z-19 w-64 overflow-y-auto transition-transform duration-300 transform lg:translate-x-0 lg:static lg:inset-0"
    [ngClass]="{
      '-translate-x-full ease-in': !isSidebarOpen,
      'translate-x-0 ease-out': isSidebarOpen
    }"
  >
    <div class="flex flex-col h-screen w-64">
      <div class="flex items-center justify-center h-16">
        <h2 class="text-xl font-bold">Logo</h2>
      </div>

      <nav class="mt-6">
        <!-- Dashboard Item -->
        <div>
          <a
            (click)="toggleDashboard()"
            class="flex items-center px-4 py-2 cursor-pointer"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
              ></path>
            </svg>
            <span class="ml-2">Dashboard</span>
            <!-- Arrow Icon to Indicate Expansion -->
            <svg
              class="w-4 h-4 ml-auto transition-transform duration-200"
              [ngClass]="{ 'rotate-90': isDashboardExpanded }"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </a>

          <!-- Sub-Items (Conditionally Rendered) -->
          <div
            class="pl-8 transform transition-transform duration-500 -translate-y-full"
            [ngClass]="{'h-0 hidden z-0': !isDashboardExpanded,
            'h-auto block translate-y-0': isDashboardExpanded,
          }"
          >
            <a routerLink="account" class="block px-4 py-2">Account</a>
            <a href="#" class="block px-4 py-2">Analytics</a>
            <a href="#" class="block px-4 py-2">Reports</a>
          </div>
        </div>

        <!-- Other Sidebar Items -->
        <a
          href="#"
          class="flex items-center px-4 py-2 mt-2 transform transition-transform duration-300"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"
            ></path>
          </svg>
          <span class="ml-2">Categories</span>
        </a>
        <!-- Add more sidebar items here -->
      </nav>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="flex flex-col flex-1 overflow-hidden">
    <!-- header -->
    <header
      class="flex items-center justify-between h-16 px-6 py-4 border-b-4 border-primary"
    >
      <button class="focus:outline-none lg:hidden" (click)="toggleSidebar()">
        <svg
          class="w-6 h-6"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4 6H20M4 12H20M4 18H11"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></path>
        </svg>
      </button>
      <!-- <input type="color" [value]="primaryColor" class="rounded-full inline w-7 h-7 outline-0" (change)="changePrimaryColor($event)" /> -->
      <!-- <app-toggle-theme /> -->
      <div class="relative mx-4 min-h-5 lg:mx-0"></div>
      <img
        src="assets/icons/settings-gray.png"
        width="20"
        alt="settings"
        (click)="isSettingOpen = true"
      />
    </header>
    <router-outlet></router-outlet>
  </div>

  <!-- Setting nav -->
  <button
    type="button"
    (click)="showSetting()"
    class="fixed top-[50%] right-0 p-1 pe-2 bg-primary rounded-s-md"
  >
    <img src="assets/icons/settings.png" width="34" alt="settings" />
  </button>
  <div
    class="fixed right-0 inset-y-0 w-72 bg-[#f6f9fc] dark:bg-[#1f2937] overflow-y-auto z-40 p-6 pt-0 transition-transform"
    [ngClass]="{
      'translate-x-full': !isSettingOpen,
      'translate-0': isSettingOpen
    }"
  >
    <!-- Sidebar Header -->
    <div class="flex justify-between items-center h-16">
      <button
        type="button"
        class="p-2 cursor-pointer rounded-full"
        (click)="isSettingOpen = false"
      >
        <svg
          class="w-5 h-5"
          fill="currentColor"
          viewBox="0 0 14 14"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z"
          ></path>
        </svg>
      </button>
    </div>

    <!-- Themes Section -->
    <h5 class="text-lg font-semibold mb-2">Themes</h5>
    <div class="grid grid-cols-4 gap-2">
      @for (color of themeColors; track $index) {
      <button
        [style.backgroundColor]="color"
        class="w-7 h-7 rounded-full"
        [ngClass]="{
          'outline-[3px] outline-offset-[3px] outline-primary': color == primaryColor
        }"
        (click)="changePrimaryColor(color)"
      ></button>
      }
      <!-- <label
        class="relative cursor-pointer w-0"
        [style.backgroundColor]="themeColors[7]"
      >
        <input
          type="color"
          id="colorPicker"
          [value]="primaryColor"
          class="w-0 h-0 block"
          (change)="changePrimaryColor($event)"
        />
        <span
          class="flex items-center justify-center w-8 h-8 rounded-full bg-primary"
          [ngClass]="{
            'outline-2 outline-offset-2 outline-primary':
              themeColors[7] == primaryColor,
          }"
          id="colorDisplay"
          >C</span
        >
      </label> -->
    </div>

    <!-- Scale Section -->
    <!-- <h5 class="text-lg font-semibold mt-4 mb-2">Scale</h5>
    <div class="flex items-center">
      <button class="p-2 rounded-full hover:bg-gray-100 ">
        <span class="pi pi-minus"></span>
      </button>
      <div class="flex gap-2 mx-2">
        <i
          *ngFor="let circle of scaleCircles"
          class="pi pi-circle-fill"
          [ngClass]="{
            'text-primary-500': circle.active,
            'text-gray-300': !circle.active
          }"
        ></i>
      </div>
      <button class="p-2 rounded-full hover:bg-gray-100 ">
        <span class="pi pi-plus"></span>
      </button>
    </div> -->

    <!-- Menu Type Section -->
    <h5 class="text-lg font-semibold mt-4 mb-2">Menu Type</h5>
    <div class="flex flex-wrap gap-2">
      <div *ngFor="let menu of menuTypes" class="flex items-center gap-2">
        <input
          type="radio"
          [id]="menu.id"
          name="menuMode"
          [value]="menu.value"
          [(ngModel)]="selectedMenuMode"
        />
        <label [for]="menu.id">{{ menu.label }}</label>
      </div>
    </div>

    <!-- Menu Theme Section -->
    <h5 class="text-lg font-semibold mt-4 mb-2">Menu Theme</h5>
    <div class="flex flex-col gap-2">
      <div *ngFor="let theme of menuThemes" class="flex items-center gap-2">
        <input
          type="radio"
          [id]="theme.id"
          name="menuTheme"
          [value]="theme.value"
          [(ngModel)]="selectedMenuTheme"
        />
        <label [for]="theme.id">{{ theme.label }}</label>
      </div>
    </div>

    <!-- Color Scheme Section -->
    <h5 class="text-lg font-semibold mt-4 mb-2">Color Scheme</h5>
    <div class="flex flex-col gap-2">
      <app-toggle-theme />
    </div>

    <!-- Input Style Section -->
    <h5 class="text-lg font-semibold mt-4 mb-2">Input Style</h5>
    <div class="flex gap-4">
      <div *ngFor="let style of inputStyles" class="flex items-center gap-2">
        <input
          type="radio"
          [id]="style.id"
          name="inputStyle"
          [value]="style.value"
          [(ngModel)]="selectedInputStyle"
        />
        <label [for]="style.id">{{ style.label }}</label>
      </div>
    </div>

    <!-- Ripple Effect Section -->
    <h5 class="text-lg font-semibold mt-4 mb-2">Ripple Effect</h5>
    <input type="checkbox" [(ngModel)]="rippleEffect" class="toggle" />
  </div>
</div>
