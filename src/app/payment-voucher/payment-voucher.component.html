<cust-card title="سند دفع">
  <form [formGroup]="form" class="space-y-4 rtl text-right p-4">
    <div class="flex flex-wrap gap-4 items-center">
      <cust-form-field inputId="account" label="الحساب" [control]="form.get('account')!"></cust-form-field>

      <cust-form-field inputId="date" label="التاريخ" type="date" [control]="form.get('date')!"></cust-form-field>

      <cust-select
        inputId="currency"
        label="العملة"
        [control]="form.get('currency')!"
        [options]="currencyOptions"
      ></cust-select>

      <cust-form-field inputId="rate" label="التعادل" type="number" [control]="form.get('rate')!"></cust-form-field>
    </div>

    <div class="flex justify-between bg-gray-100 p-2 text-sm text-gray-700 font-medium border">
      <span>الرصيد السابق</span>
      <span class="text-blue-600 font-bold">10,900.00</span>
    </div>

    <div class="overflow-x-auto mt-4">
      <table class="w-full border text-sm text-center">
        <thead class="bg-gray-100">
          <tr>
            <th class="p-2 border">#</th>
            <th class="p-2 border">مدين</th>
            <th class="p-2 border">الحساب</th>
            <th class="p-2 border">البيان</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of rows.controls; let i = index" [formGroup]="getRowFormGroup(i)">
            <td class="border">{{ i + 1 }}</td>
            <td class="border"><input formControlName="debit" class="w-full p-1 text-right border-none outline-none" /></td>
            <td class="border"><input formControlName="account" class="w-full p-1 text-right border-none outline-none" /></td>
            <td class="border"><input formControlName="description" class="w-full p-1 text-right border-none outline-none" /></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="flex justify-between mt-4 border-t pt-2 text-sm">
      <div class="text-gray-600">المجموع:</div>
      <div class="flex gap-4">
        <span>0.00</span>
        <span>0.00</span>
      </div>
    </div>

    <div class="flex justify-between mt-2 text-red-600 font-semibold text-sm">
      <div>الرصيد النهائي:</div>
      <div>10,900.00</div>
    </div>

    <div class="flex justify-end">
      <button type="submit" class="bg-blue-500 text-white px-4 py-1 mt-4 rounded shadow hover:bg-blue-600 transition">سند</button>
    </div>
  </form>
</cust-card>
